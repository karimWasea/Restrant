@model IEnumerable<Cf_Viewmodels.FinancialUserCashHistoryVM>
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

@{
    Layout = "_Layout";
    ViewData["Title"] = $"   فاتوره رقم";
    
}

<!-- Styling -->
<style>
    /* Add your custom CSS styles here */
    .table-striped {
        /* Add styling for striped table */
    }

    .custom-table {
         width: 50%; /* Set table width to 50% */
    }

    .form-inline {
        display: flex;
        flex-flow: row wrap;
        align-items: center;
    }

        .form-inline .form-group {
            margin-right: 10px;
        }

    .input-group {
        width: 100%;
    }

    .table {
        width: 100%;
    }

        .table thead {
            background-color: #343a40;
            color: white;
        }

        .table td, .table th {
            text-align: center;
            vertical-align: middle;
        }
</style>
 
<table class="table table-striped table-bordered w-100 mx-auto mt-4">
    <thead class="thead-dark">
        <tr>
             <th>الكميه</th>
            <th>السعر الكلى</th>
 
            <th> تم الدفع/لا</th> <!-- Corrected spelling -->
             <th class="Save"> الحذف   </th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
 
               <td>@item.Qantity</td>
                <td>@item.PayedTotalAmount</td>
 

                <td>@Servess.DescriptionEnum.GetDescription(item.PaymentStatus)</td> <!-- Ensure GetDescription works properly -->
             
                <td>
                    <a class="btn btn-success flex-grow-1 ml-1 Save" asp-area="Admin" asp-action="DeleteHistory" asp-route-Id="@item.Id">حذف</a>
                </td>

            </tr>
        }
    </tbody>
  
</table>



<div id="buttonprint">
    <button id="printButton" class="btn btn-primary" style="display:none;">طباعة الفاتوره</button> <!-- Print button with an id -->

     

</div>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        document.getElementById("printButton").addEventListener("click", function () {
            // Hide the header
            var headerElement = document.getElementsByTagName('header')[0];
            headerElement.style.display = 'none';
            document.querySelectorAll('.Save').forEach(function (element) {
                element.style.display = 'none';
            });
            // Hide elements with class 'save'
            var saveColumnIndex = $('table th:contains("Save")').index();
            $('table tr').each(function () {
                $(this).find('td').eq(saveColumnIndex).hide();
                $(this).find('th').eq(saveColumnIndex).hide();
            });
            // Hide the print button itself
            var buttonprint = document.getElementById("buttonprint");
            buttonprint.style.display = 'none';

            // Print the page
            window.print();

            // Restore the visibility of the header and the print button
            headerElement.style.display = 'block';
     
            buttonprint.style.display = 'block';

            // Restore the visibility of elements with class 'save'
            $('table tr').each(function () {
                $(this).find('td').eq(saveColumnIndex).show();
                $(this).find('th').eq(saveColumnIndex).show();
            });
        });
    });
</script>

 
